import{_ as p,c as f,b as i,a as d,d as o,w as e,r as t,o as s,e as a}from"./app-B_sKV6fk.js";const m={},v={class:"vp-file-tree"};function c(y,l){const n=t("VPIcon"),r=t("FileTreeNode");return s(),f("div",null,[l[28]||(l[28]=i('<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>上回说到接手了一个 PHP 项目，使用 Laravel 框架实现，今天将介绍 Laravel 项目的搭建过程。</p><h2 id="_1-环境安装" tabindex="-1"><a class="header-anchor" href="#_1-环境安装"><span>1. 环境安装</span></a></h2><h3 id="_1-1-安装-php-的开发环境" tabindex="-1"><a class="header-anchor" href="#_1-1-安装-php-的开发环境"><span>1.1. 安装 PHP 的开发环境</span></a></h3><p>安装过程请见上一篇文章 <a href="https://maye.ml/2022021001/#%E4%B8%80php-%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreferrer">PHP运行环境配置</a> 。这里我安装的版本是 <strong>PHP 7.4.27 (cli)</strong> 。</p><h3 id="_1-2-安装-composer" tabindex="-1"><a class="header-anchor" href="#_1-2-安装-composer"><span>1.2. 安装 Composer</span></a></h3><p><a href="https://laravel.com/docs/9.x/installation#why-laravel" target="_blank" rel="noopener noreferrer">Laravel</a> 是 PHP 开发应用广泛的框架，创建 Laravel 工程需要使用到 <a href="https://getcomposer.org/download/" target="_blank" rel="noopener noreferrer">Composer</a>，可以通过命令行安装，或下载安装 <strong>Composer-Setup.exe</strong> 程序。 这里我使用下载 exe 程序安装的方式，注意，有的<a href="https://pkg.xyz/#how-to-use-packagist-mirror" target="_blank" rel="noopener noreferrer">教程</a>会说设置镜像源，这里不建议设置，因为镜像源中的软件不够全，很容有些软件下载不到。 默认目录安装时，<strong>composer.phar</strong> 文件路径为：<strong>C:\\ProgramData\\ComposerSetup\\bin</strong> ，Conposer 的配置文件目录为：<strong>C:\\Users\\maye\\AppData\\Roaming\\Composer</strong> 。这里我安装的版本是 <strong>Composer version 2.2.6 2022-02-04 17:00:38</strong> 。</p><h3 id="_1-3-创建-laravel-工程" tabindex="-1"><a class="header-anchor" href="#_1-3-创建-laravel-工程"><span>1.3. 创建 Laravel 工程</span></a></h3><p>Laravel <a href="https://laravel.com/docs/5.5/installation" target="_blank" rel="noopener noreferrer">英文文档</a> <a href="https://learnku.com/docs/laravel/5.5/installation/1282" target="_blank" rel="noopener noreferrer">中文文档</a> 。 在指定目录下打开 cmd 命令行执行：<code>composer create-project --prefer-dist laravel/laravel laravel-demo &quot;5.5.*&quot;</code> 。目前 Laravel 版本已经到 8.x 了，这里我创建 5.5.x 是因为接手的项目是 Laravel 5.5.49 版本的。 由于是从国外服务器下载的，注意保持网络畅通，然后用 PhpStorm 打开。 工程创建也可以使用 PhpStorm，具体方式百度，需要指定 composer.phar 文件，然后在创建步骤中搜索 Laravel/Laravel 即可。</p><h3 id="_1-4-安装-nodejs" tabindex="-1"><a class="header-anchor" href="#_1-4-安装-nodejs"><span>1.4. 安装 NodeJs</span></a></h3><p>这里我下载的是 <a href="https://nodejs.org/download/release/v14.15.5/" target="_blank" rel="noopener noreferrer"><strong>v14.15.5</strong></a> 版本，在列表中找到 <strong>node-v14.15.5-x64.msi</strong> 文件下载安装。 npm 设置淘宝镜像，加速下载：<code>npm config set registry https://registry.npm.taobao.org</code>，通过 <code>npm config get registry</code> 查看是否配置成功。然后在 Laravel 工程中运行 <code>npm install</code> 下载依赖。</p><h2 id="_2-工程运行" tabindex="-1"><a class="header-anchor" href="#_2-工程运行"><span>2. 工程运行</span></a></h2><p>上述操作完成后，我们就成功创建了一个 Laravel 工程，在工程的根目录下执行 <code>php artisan serve</code> 即可启动，默认启动在 8000 端口，也可以通过 <code>php artisan serve --port=9000</code> 指定端口，然后使用浏览器打开 <a href="http://127.0.01:8000" target="_blank" rel="noopener noreferrer">localhost:8000</a> 查看。按下 <code>Ctrl + C</code> 即可关闭服务。</p><h2 id="_3-目录说明" tabindex="-1"><a class="header-anchor" href="#_3-目录说明"><span>3. 目录说明</span></a></h2><p>Laravel 工程目录结构如下：</p>',15)),d("div",v,[o(r,{expanded:"",type:"folder",filename:"app",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:folder-type-app"})]),comment:e(()=>[...l[0]||(l[0]=[a("包含应用程序的核心代码，默认情况下，这个目录位于命名空间 App 下。",-1)])]),default:e(()=>[o(r,{type:"folder",filename:"Console",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[1]||(l[1]=[a("包含了所有自定义的 Artisan 命令",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Envents",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[2]||(l[2]=[a("包含了事件类。可以使用事件来提醒应用其他部分发生了特定的操作，为应用提供了大量的灵活性和解耦",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Exceptions",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[3]||(l[3]=[a("包含了应用的异常处理器",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Http",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[4]||(l[4]=[a("包含了控制器、中间件和表单请求。几乎所有的进入应用的请求的处理逻辑都被放在这里",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Jobs",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[5]||(l[5]=[a("此目录默认不存在，在运行 Artisan 命令 make:job 时生成，用于存放应用中的队列任务",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Listeners",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[6]||(l[6]=[a("包含了用来处理事件的类。事件监听器接收事件实例并执行响应该事件被触发的逻辑。例如，UserRegistered 事件可能由 SendWelcomeEmail 监听器处理",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Mail",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[7]||(l[7]=[a("此目录默认不存在，在运行 Artisan 命令 make:mail 时生成，目录包含应用所有的邮件发送类",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Notifications",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[8]||(l[8]=[a("此目录默认不存在，在运行 Artisan 命令 make:notification 时生成，目录包含应用发送的所有事务性通知",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Policies",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[9]||(l[9]=[a("此目录默认不存在，在运行 Artisan 命令 make:policy 时生成，目录包含了应用的授权策略类",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Providers",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[10]||(l[10]=[a("包含了应用的所有 服务提供器。服务提供器通过在服务容器中绑定服务、注册事件、以及执行其他任务来为即将到来的请求做准备来启动应用",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"Roles",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[11]||(l[11]=[a("此目录默认不存在，在运行 Artisan 命令 make:rule 命令时生成，目录包含应用自定义验证规则对象",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1})]),_:1}),o(r,{type:"folder",filename:"bootstarp",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[12]||(l[12]=[a("包含引导框架并配置自动加载的文件。该目录还包含了一个 cache 目录，存放着框架生成的用来提升性能的文件，比如路由和服务缓存文件",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:1})]),_:1}),o(r,{type:"folder",filename:"config",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:folder-type-config"})]),comment:e(()=>[...l[13]||(l[13]=[a("包含应用程序所有的配置文件",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:1})]),_:1}),o(r,{type:"folder",filename:"databse",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[14]||(l[14]=[a("包含数据填充和迁移文件。你还可以把它作为 SQLite 数据库存放目录",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:1})]),_:1}),o(r,{type:"folder",filename:"public",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:folder-type-public"})]),comment:e(()=>[...l[15]||(l[15]=[a("包含了入口文件 index.php，它是进入应用程序的所有请求的入口点。此目录还包含了一些资源文件，图片、JavaScript 和 CSS",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:1})]),_:1}),o(r,{type:"folder",filename:"resources",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:folder-type-asset"})]),comment:e(()=>[...l[16]||(l[16]=[a("包含了视图和未编译的资源文件（如 LESS、SASS 或 JavaScript）。此目录还包含所有的语言文件",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:1})]),_:1}),o(r,{expanded:"",type:"folder",filename:"routes",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[17]||(l[17]=[a("包含了应用的所有路由定义，Laravel 默认包含了几个路由文件：web.php、api.php、 console.php 和 channels.php",-1)])]),default:e(()=>[o(r,{type:"file",filename:"web.php",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:file-type-php"})]),comment:e(()=>[...l[18]||(l[18]=[a("包含 RouteServiceProvider 放置在 web 中间件组中的路由，它提供会话状态、CSRF 防护和 cookie 加密。如果应用不提供无状态的、RESTful 风格的 API，则所有的路由都应该在 web.php 文件中定义",-1)])]),_:1}),o(r,{type:"file",filename:"api.php",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:file-type-php"})]),comment:e(()=>[...l[19]||(l[19]=[a("包含 RouteServiceProvider 放置在 api 中间件组中的路由，它提供了频率限制。这些路由都是无状态的，所以通过这些路由进入应用请求旨在通过令牌进行身份认证，并且不能访问会话状态",-1)])]),_:1}),o(r,{type:"file",filename:"console.php",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:file-type-php"})]),comment:e(()=>[...l[20]||(l[20]=[a("定义所有基于闭包的控制台命令的地方。每个闭包都被绑定到一个命令实例并且允许和命令行 IO 方法进行简单的交互。尽管这些文件没有定义 HTTP 路由，但它也将基于控制台的入口点（路由）定义到应用程序中",-1)])]),_:1}),o(r,{type:"file",filename:"channels.php",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:file-type-php"})]),comment:e(()=>[...l[21]||(l[21]=[a("用来注册你的应用支持的所有的事件广播渠道的地方",-1)])]),_:1})]),_:1}),o(r,{type:"folder",filename:"storage",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[22]||(l[22]=[a("包含编译的 Blade 模板、基于文件的会话和文件缓存、以及框架生成的其他文件",-1)])]),default:e(()=>[o(r,{type:"folder",filename:"app",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:folder-type-app"})]),comment:e(()=>[...l[23]||(l[23]=[a("可以用来存储应用生成的任何文件",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"framework",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:e(()=>[...l[24]||(l[24]=[a("用来存储框架生成的文件和缓存",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1}),o(r,{type:"folder",filename:"logs",level:1},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:folder-type-log"})]),comment:e(()=>[...l[25]||(l[25]=[a("包含应用的日志文件",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:2})]),_:1})]),_:1}),o(r,{type:"folder",filename:"tests",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:folder-type-test"})]),comment:e(()=>[...l[26]||(l[26]=[a("包含自动化测试文件",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:1})]),_:1}),o(r,{type:"folder",filename:"vendor",level:0},{icon:e(()=>[o(n,{provider:"iconify",name:"vscode-icons:folder-type-library"})]),comment:e(()=>[...l[27]||(l[27]=[a("包含 Composer 依赖包",-1)])]),default:e(()=>[o(r,{type:"file",filename:"…",level:1})]),_:1})]),l[29]||(l[29]=i('<p>以上列出了 Laravel 工程的部分目录，详见 <a href="https://learnku.com/docs/laravel/5.5/structure/1284#04793c" target="_blank" rel="noopener noreferrer">Laravel 的文件夹结构</a>。Laravel 没有严格地限制任何给定的类的位置，你可以按照喜好整理应用的目录结构，只要它们能被 Composer 自动加载。</p><p>Laravel 框架的所有配置文件都保存在 config 目录中。在新安装好的 Laravel 应用程序中，其根目录会包含一个<code>.env.example</code>文件。如果是通过 Composer 安装的 Laravel，该文件会自动更名为<code>.env</code>。否则，需要你手动更改一下文件名。 应用程序当前所处环境是通过<code>.env</code>文件中的 APP_ENV 变量确定的。</p><p>PHP 中与数据库交互的模型称之为 <strong>Eloquent</strong>，它并不需要像 Java 一样定义 Entity 实体，倒像是 Java 的 Dao 层。默认把 Eloquent 的模型放在 app 目录下，并且允许开发者自行选择放置在何处。</p><h2 id="_4-部署方式" tabindex="-1"><a class="header-anchor" href="#_4-部署方式"><span>4. 部署方式</span></a></h2><p>使用 Nginx 部署 Laravel 工程，常见<a href="https://laravel.com/docs/5.5/deployment#nginx" target="_blank" rel="noopener noreferrer">文档</a></p>',5))])}const g=p(m,[["render",c]]),h=JSON.parse('{"path":"/article/0qtfijjj/","title":"Laravel框架项目搭建","lang":"zh-CN","frontmatter":{"title":"Laravel框架项目搭建","tags":["PHP","Laravel"],"categories":["PHP"],"createTime":"2022/02/20 14:39:18","permalink":"/article/0qtfijjj/"},"readingTime":{"minutes":6.06,"words":1818},"git":{"createdTime":1769985102000,"updatedTime":1769985102000,"contributors":[{"name":"Mayee","username":"Mayee","email":"may675154357@gmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/Mayee?v=4","url":"https://github.com/Mayee"}]},"filePathRelative":"blog/1.后端/3.PHP/1.Laravel框架项目搭建.md","headers":[],"categoryList":[{"id":"fcf595","sort":1,"name":"后端"},{"id":"6f580a","sort":3,"name":"PHP"}]}');export{g as comp,h as data};
